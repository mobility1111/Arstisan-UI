<div class="register-wrapper mt-5">
  <div class="register-card">
    <h2 class="register-title">Create Your Account</h2>
    <p class="register-subtitle">Join us and get started instantly</p>

    <form [formGroup]="registerForm" (ngSubmit)="registerCustomer()" novalidate>

      <!-- Full Name -->
      <div class="input-group-modern">
        <label for="fullName">Full Name</label>
        <input id="fullName" type="text" formControlName="fullName" placeholder="John Doe" />
      </div>

      <!-- Email -->
      <div class="input-group-modern">
        <label for="email">Email Address</label>
        <input id="email" type="email" formControlName="email" placeholder="example@mail.com" />
      </div>

      <!-- Phone Number -->
<div class="input-group-modern">
  <label for="phoneNumber">Phone Number</label>
  <input
    id="phoneNumber"
    type="text"
    formControlName="phoneNumber"
    placeholder="+234 801 234 5678"
  />
</div>


      <!-- Password -->
      <div class="input-group-modern">
        <label>Password</label>

        <div class="password-wrapper">
          <input
            [type]="showPassword ? 'text' : 'password'"
            formControlName="password"
            placeholder="Enter a strong password"
          />
          <span class="password-toggle" (click)="togglePasswordVisibility()">
            <span *ngIf="!showPassword">ğŸ‘ï¸</span>
            <span *ngIf="showPassword">ğŸ™ˆ</span>
          </span>
        </div>

        <!-- Password Strength Bar -->
        <div *ngIf="registerForm.get('password')?.value" class="password-strength">
          <div class="strength-bar">
            <div
              class="strength-fill"
              [style.width.%]="getPasswordStrength()"
              [ngClass]="getPasswordStrengthClass()"
            ></div>
          </div>
          <small>Password Strength: {{ getPasswordStrengthText() }}</small>
        </div>

        <!-- Password Requirements -->
        <div
          *ngIf="passwordPolicy && registerForm.get('password')?.value"
          class="password-requirements"
        >
          <div class="requirement" [class.met]="hasMinLength()">
            <i class="bi" [ngClass]="hasMinLength() ? 'bi-check-circle-fill' : 'bi-circle'"></i>
            <span>{{ passwordPolicy.requiredLength }}+ characters</span>
          </div>

          <div *ngIf="passwordPolicy.requireUppercase" class="requirement" [class.met]="hasUppercase()">
            <i class="bi" [ngClass]="hasUppercase() ? 'bi-check-circle-fill' : 'bi-circle'"></i>
            <span>Uppercase letter</span>
          </div>

          <div *ngIf="passwordPolicy.requireLowercase" class="requirement" [class.met]="hasLowercase()">
            <i class="bi" [ngClass]="hasLowercase() ? 'bi-check-circle-fill' : 'bi-circle'"></i>
            <span>Lowercase letter</span>
          </div>

          <div *ngIf="passwordPolicy.requireDigit" class="requirement" [class.met]="hasNumber()">
            <i class="bi" [ngClass]="hasNumber() ? 'bi-check-circle-fill' : 'bi-circle'"></i>
            <span>Number</span>
          </div>

          <div *ngIf="passwordPolicy.requireSpecialCharacter" class="requirement" [class.met]="hasSpecialChar()">
            <i class="bi" [ngClass]="hasSpecialChar() ? 'bi-check-circle-fill' : 'bi-circle'"></i>
            <span>Special character</span>
          </div>
        </div>
      </div>

      <!-- Location -->
      <div class="input-group-modern">
        <label for="location">Location</label>
        <input id="location" type="text" formControlName="location" placeholder="e.g., Lagos, Abuja, Abijo" />
      </div>

      <!-- Submit -->
      <button class="btn-register" type="submit" [disabled]="isSubmitting">
        <span *ngIf="!isSubmitting">Register</span>
        <span *ngIf="isSubmitting">Registering...</span>
      </button>

      <!-- Message -->
      <div class="register-message" *ngIf="message">
        {{ message }}
      </div>

    </form>
  </div>
</div>
